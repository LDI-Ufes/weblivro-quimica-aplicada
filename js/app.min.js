const btnToTop=document.querySelector("#voltar-topo");btnToTop.addEventListener("click",function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})});const barraDeBusca=document.querySelector("#barra-de-busca");document.addEventListener("DOMContentLoaded",function(){let e;fetch("components/barra-de-busca.php").then(t=>{t.text().then(t=>{const o=t,a=document.createElement("div");a.innerHTML=o,e=a.firstChild,barraDeBusca.appendChild(e),setupEvents()})})});const setupEvents=()=>{document.getElementById("searchButton").onclick=(e=>{if(e.preventDefault(),document.getElementById("searchText").value.includes(">")||document.getElementById("searchText").value.includes("<")||document.getElementById("searchText").value.includes("\\")||document.getElementById("searchText").value.includes("/"))document.getElementById("erro").innerText="Erro: SÃ­mbolo nÃ£o permitido.",document.getElementById("erro").style.display="flex",setTimeout(()=>{document.getElementById("erro").classList.add("ativo")},300);else if(document.getElementById("searchText").value.length<3)document.getElementById("erro").innerText="Erro: digite, no mÃ­nimo, trÃªs caracteres para fazer a pesquisa.",document.getElementById("erro").style.display="flex",setTimeout(()=>{document.getElementById("erro").classList.add("ativo")},300);else{let e=document.getElementById("searchText").value,t=document.location.href.split("/");t.pop(),t.push("busca.php?query="+e),t=t.join("/"),document.location=t}}),document.getElementById("searchText").addEventListener("keyup",e=>{e.preventDefault(),document.getElementById("searchText").value.length>2&&13===e.keyCode&&document.getElementById("searchButton").click()})};getWordParam=(()=>{const e=new URLSearchParams(window.location.search);return{preambule:e.get("preambule"),word:e.get("word")}}),jumpToWord=((e,t)=>{const o=[aCaseSensitive=!1,aBackwards=!1,aWrapAround=!0,aWholeWord=!1,aSearchInFrames=!0,aShowDialog=!0];window.find(decodeURIComponent(e),...o),window.find(decodeURIComponent(t),...o)}),document.addEventListener("DOMContentLoaded",()=>{const e=getWordParam();jumpToWord(e.preambule,e.word)});const navAjustes=document.querySelector("#nav-ajustes"),modalAjustes=document.querySelector("#modal-ajustes");document.addEventListener("DOMContentLoaded",function(){navAjustes.classList.add("js"),Tema()});const modalLabel=modalAjustes.querySelector("#modal-ajustes-label");navAjustes.addEventListener("click",function(e){e.preventDefault(),modalAjustes.classList.add("show"),setTimeout(()=>{modalAjustes.classList.add("habilitado")},100),setTimeout(()=>{modalLabel.focus()},200),this.classList.remove("habilitado"),this.classList.add("desabilitado")});const modalClose=document.querySelector("#modal-close");function Tema(){if("bg"in localStorage){let e=localStorage.getItem("bg");bodyPush.classList.add(e);const t="#fundo-"+e;document.querySelector(t).classList.add("ativo")}else localStorage.setItem("bg","branco"),fundoBranco.classList.add("ativo");if("zoom"in localStorage){let e=localStorage.getItem("zoom");main.style.fontSize=e,console.log("O ajuste do tamanho de fonte estÃ¡ ativado ðŸ˜ƒ\nPadrÃ£o: 20px\n"+`Atual: ${main.style.fontSize}`)}else localStorage.setItem("zoom",mainFontSize),console.log("Tamanho de fonte padrÃ£o: 20px");if("dislexia"in localStorage){"on"===localStorage.getItem("dislexia")&&(bodyPush.classList.add("dislexia"),modoDislexia.checked=!0)}else localStorage.setItem("dislexia","off"),modoDislexia.checked=!1}modalClose.addEventListener("click",function(){modalAjustes.classList.remove("habilitado"),modalAjustes.classList.remove("show"),navAjustes.focus(),navAjustes.classList.remove("desabilitado"),navAjustes.classList.add("habilitado")}),document.addEventListener("click",function(e){"habilitado"!=modalAjustes.classList[1]||e.target.closest("#modal-ajustes, #nav-ajustes")||(modalAjustes.classList.remove("habilitado"),modalAjustes.classList.remove("show"),navAjustes.focus(),navAjustes.classList.remove("desabilitado"),navAjustes.classList.add("habilitado"))});const fundoBtns=document.querySelectorAll(".modal-item-options button");function ativar(e){fundoBtns.forEach(e=>{e.classList.remove("ativo")}),e.classList.add("ativo")}const bodyPush=document.body,fundoCreme=document.querySelector("#fundo-creme"),fundoBranco=document.querySelector("#fundo-branco"),fundoEscuro=document.querySelector("#fundo-escuro");fundoCreme.addEventListener("click",()=>{localStorage.setItem("bg","creme"),bodyPush.classList.remove("escuro","branco"),bodyPush.classList.add("creme"),ativar(fundoCreme)}),fundoBranco.addEventListener("click",()=>{localStorage.setItem("bg","branco"),bodyPush.classList.remove("escuro","creme"),bodyPush.classList.add("branco"),ativar(fundoBranco)}),fundoEscuro.addEventListener("click",()=>{localStorage.setItem("bg","escuro"),bodyPush.classList.remove("creme","branco"),bodyPush.classList.add("escuro"),ativar(fundoEscuro)});const modoDislexia=document.querySelector("#dislexia");modoDislexia.addEventListener("change",()=>{modoDislexia.checked?(localStorage.setItem("dislexia","on"),bodyPush.classList.add("dislexia"),console.log("dislexia on")):(localStorage.setItem("dislexia","off"),bodyPush.classList.remove("dislexia"),console.log("dislexia off"))});const main=document.querySelector("main"),mainStyles=getComputedStyle(main);let mainFontSize=mainStyles.fontSize;const btnAmplia=document.querySelector("#btn-amplia");function ampliar(){let e=mainStyles.fontSize,t=e=`${Number.parseInt(e)+2}px`;main.style.fontSize=t,localStorage.setItem("zoom",t)}btnAmplia.addEventListener("click",ampliar);const btnReduz=document.querySelector("#btn-reduz");function reduzir(){let e=mainStyles.fontSize,t=e=`${Number.parseInt(e)-2}px`;main.style.fontSize=t,localStorage.setItem("zoom",t)}btnReduz.addEventListener("click",reduzir);